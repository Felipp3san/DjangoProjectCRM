{% extends 'base.html' %}

{% block title %}
<title>Admin Panel</title>
{% endblock %}

{% block content %}
<div class="col-md-12">

    <h1 class="mb-5 mt-5 text-center">Admin Panel</h1>

    {% if users|length < 1 %} <p class="text-center h3 mb-5">No users available.</p>

        {% else %}

        <table class="table table-striped table-bordered table-hover">
            <thead class="text-center table-dark">
                <tr>
                    <th class="" scope="col ">Id</th>
                    <th class="" scope="col">Username</th>
                    <th class="" scope="col">Email</th>
                    <th class="" scope="col">Super user</th>
                    <th class="" scope="col">Active</th>
                    <th class="" scope="col">Joined</th>
                    <th class="" scope="col">Actions</th>
                </tr>
            </thead>
            {% for user in users %}
            <tbody class="text-center align-middle">
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.is_superuser }}</td>
                    <td>{{ user.is_active }}</td>
                    <td>{{ user.date_joined }}</td>
                    <td>
                        <a class="btn btn-outline-danger" id="delete-button"
                            href="{% url 'delete_user' user.id %}">Delete</a>
                        <a class="btn btn-outline-success" id="update-button"
                            href="{% url 'edit_user' user.id %}">Edit</a>
                        <a class="btn btn-outline-warning" id="tasks-button"
                            href="{% url 'tasks_admview' user.id %}">Tasks</a>
                    </td>
                </tr>
            </tbody>
            {% endfor %}
        </table>
        {% endif %}
        <div class="d-grid gap-2">
            <a id="generate-button" class="btn btn-dark rounded-0 w-100" href="{% url 'add_user' %}">Add User</a>
        </div>
</div>
{% endblock %}